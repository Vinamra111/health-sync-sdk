/**
 * Health Connect Plugin
 *
 * Plugin for Android Health Connect integration.
 * Provides access to unified health and fitness data on Android devices.
 *
 * @module plugins/health-connect/health-connect-plugin
 */
import { BasePlugin } from '../plugin-interface';
import { PluginConfig, ConnectionResult, DataQuery, RawHealthData, Subscription, UpdateCallback, ErrorAction } from '../plugin-interface';
import { DataType } from '../../models/unified-data';
import { HealthConnectConfig, HealthConnectPermission, HealthConnectAvailability, PermissionStatus } from './types';
/**
 * Health Connect Plugin
 *
 * Integrates with Android Health Connect API to fetch health and fitness data.
 *
 * @class HealthConnectPlugin
 * @extends {BasePlugin}
 */
export declare class HealthConnectPlugin extends BasePlugin {
    readonly id: string;
    readonly name: string;
    readonly version: string;
    readonly supportedDataTypes: readonly DataType[];
    readonly requiresAuthentication: boolean;
    readonly isCloudBased: boolean;
    /** Plugin configuration */
    private hcConfig;
    /** Logger instance */
    private logger?;
    /** Granted permissions */
    private grantedPermissions;
    /** Active subscriptions */
    private subscriptions;
    /** Subscription counter for unique IDs */
    private subscriptionCounter;
    /** Platform bridge (set by platform-specific code) */
    private platformBridge?;
    /**
     * Create Health Connect plugin
     *
     * @param {HealthConnectConfig} [config] - Plugin configuration
     */
    constructor(config?: HealthConnectConfig);
    /**
     * Set platform bridge
     *
     * Platform-specific code must call this to provide native functionality.
     *
     * @param {HealthConnectBridge} bridge - Platform bridge
     */
    setPlatformBridge(bridge: HealthConnectBridge): void;
    /**
     * Initialize plugin
     *
     * @param {PluginConfig} config - Plugin configuration
     * @returns {Promise<void>}
     */
    initialize(config: PluginConfig): Promise<void>;
    /**
     * Dispose plugin
     *
     * @returns {Promise<void>}
     */
    dispose(): Promise<void>;
    /**
     * Connect to Health Connect
     *
     * @returns {Promise<ConnectionResult>} Connection result
     */
    connect(): Promise<ConnectionResult>;
    /**
     * Disconnect from Health Connect
     *
     * @returns {Promise<void>}
     */
    disconnect(): Promise<void>;
    /**
     * Fetch data
     *
     * @param {DataQuery} query - Data query
     * @returns {Promise<RawHealthData[]>} Raw health data
     */
    fetchData(query: DataQuery): Promise<RawHealthData[]>;
    /**
     * Subscribe to data updates
     *
     * @param {UpdateCallback} callback - Update callback
     * @returns {Promise<Subscription>} Subscription
     */
    subscribeToUpdates(callback: UpdateCallback): Promise<Subscription>;
    /**
     * Handle error
     *
     * @param {Error} error - Error
     * @returns {ErrorAction} Error action
     */
    handleError(error: Error): ErrorAction;
    /**
     * Check Health Connect availability
     *
     * @returns {Promise<HealthConnectAvailability>} Availability status
     * @private
     */
    private checkAvailability;
    /**
     * Get all required permissions for supported data types
     *
     * @returns {HealthConnectPermission[]} Required permissions
     * @private
     */
    private getAllRequiredPermissions;
    /**
     * Check permissions
     *
     * @param {HealthConnectPermission[]} permissions - Permissions to check
     * @returns {Promise<PermissionStatus[]>} Permission statuses
     * @private
     */
    private checkPermissions;
    /**
     * Request permissions
     *
     * @param {HealthConnectPermission[]} permissions - Permissions to request
     * @returns {Promise<void>}
     * @private
     */
    private requestPermissions;
    /**
     * Check if has permissions for data type
     *
     * @param {DataType} dataType - Data type
     * @returns {Promise<boolean>} True if has required permissions
     * @private
     */
    private hasPermissionsForDataType;
    /**
     * Get mock data for testing
     *
     * @param {DataQuery} query - Data query
     * @returns {RawHealthData[]} Mock data
     * @private
     */
    private getMockData;
    /**
     * Log message
     *
     * @param {'info' | 'warn' | 'error'} level - Log level
     * @param {string} message - Message
     * @param {Error} [error] - Optional error
     * @private
     */
    private log;
}
/**
 * Read records request
 *
 * @interface ReadRecordsRequest
 */
interface ReadRecordsRequest {
    recordType: string;
    startTime: Date;
    endTime: Date;
    limit?: number;
    offset?: number;
}
/**
 * Health Connect Bridge Interface
 *
 * Platform-specific code must implement this interface to provide
 * native Health Connect functionality.
 *
 * @interface HealthConnectBridge
 */
export interface HealthConnectBridge {
    /**
     * Check Health Connect availability
     *
     * @returns {Promise<HealthConnectAvailability>} Availability status
     */
    checkAvailability(): Promise<HealthConnectAvailability>;
    /**
     * Check permissions
     *
     * @param {HealthConnectPermission[]} permissions - Permissions to check
     * @returns {Promise<PermissionStatus[]>} Permission statuses
     */
    checkPermissions(permissions: HealthConnectPermission[]): Promise<PermissionStatus[]>;
    /**
     * Request permissions
     *
     * @param {HealthConnectPermission[]} permissions - Permissions to request
     * @returns {Promise<HealthConnectPermission[]>} Granted permissions
     */
    requestPermissions(permissions: HealthConnectPermission[]): Promise<HealthConnectPermission[]>;
    /**
     * Read records
     *
     * @param {ReadRecordsRequest} request - Read request
     * @returns {Promise<HealthConnectRecord[]>} Health Connect records
     */
    readRecords(request: ReadRecordsRequest): Promise<HealthConnectRecord[]>;
}
/**
 * Health Connect Record
 *
 * @interface HealthConnectRecord
 */
export interface HealthConnectRecord {
    /** Record ID */
    id?: string;
    /** Timestamp (for instantaneous records) */
    time?: string;
    /** Start time (for interval records) */
    startTime?: string;
    /** End time (for interval records) */
    endTime?: string;
    /** Record data */
    [key: string]: unknown;
}
export {};
//# sourceMappingURL=health-connect-plugin.d.ts.map