/**
 * Cache Manager
 *
 * High-level cache orchestration with TTL, invalidation strategies,
 * and multi-layer caching support.
 *
 * @module cache/cache-manager
 */
import { DataType, HealthSource, AnyHealthData } from '../models/unified-data';
import { Logger } from '../types/config';
import { ICacheProvider, CacheKey, CacheStats } from './cache-provider';
/**
 * Cache manager configuration
 *
 * @interface CacheManagerConfig
 */
export interface CacheManagerConfig {
    /** Enable caching */
    enabled?: boolean;
    /** Default TTL in milliseconds */
    defaultTTL?: number;
    /** TTL per data type (overrides default) */
    ttlByDataType?: Partial<Record<DataType, number>>;
    /** Maximum entries for memory cache */
    maxMemoryEntries?: number;
    /** Enable automatic cleanup */
    autoCleanup?: boolean;
    /** Cleanup interval in milliseconds */
    cleanupInterval?: number;
    /** Logger instance */
    logger?: Logger;
    /** External cache provider (L2) */
    externalProvider?: ICacheProvider;
}
/**
 * Cache Manager
 *
 * Manages multi-layer caching with automatic TTL and invalidation.
 *
 * @class CacheManager
 */
export declare class CacheManager {
    private config;
    private logger;
    private memoryCache;
    private externalCache;
    private cleanupTimer;
    /**
     * Create cache manager
     *
     * @param {CacheManagerConfig} [config] - Cache configuration
     */
    constructor(config?: CacheManagerConfig);
    /**
     * Get cached data
     *
     * Checks memory cache first (L1), then external cache (L2) if available.
     *
     * @param {CacheKey} key - Cache key
     * @returns {Promise<AnyHealthData[] | null>} Cached data or null
     */
    get(key: CacheKey): Promise<AnyHealthData[] | null>;
    /**
     * Set cached data
     *
     * Stores in both memory cache (L1) and external cache (L2) if available.
     *
     * @param {CacheKey} key - Cache key
     * @param {AnyHealthData[]} data - Data to cache
     * @param {number} [ttl] - TTL in milliseconds (overrides default)
     * @param {string[]} [tags] - Tags for invalidation
     * @returns {Promise<void>}
     */
    set(key: CacheKey, data: AnyHealthData[], ttl?: number, tags?: string[]): Promise<void>;
    /**
     * Delete cached data
     *
     * @param {CacheKey} key - Cache key
     * @returns {Promise<boolean>} True if deleted from any cache
     */
    delete(key: CacheKey): Promise<boolean>;
    /**
     * Clear all caches
     *
     * @returns {Promise<void>}
     */
    clear(): Promise<void>;
    /**
     * Invalidate cache entries by source
     *
     * @param {HealthSource} source - Source to invalidate
     * @returns {Promise<number>} Number of entries invalidated
     */
    invalidateBySource(source: HealthSource): Promise<number>;
    /**
     * Invalidate cache entries by data type
     *
     * @param {DataType} dataType - Data type to invalidate
     * @returns {Promise<number>} Number of entries invalidated
     */
    invalidateByDataType(dataType: DataType): Promise<number>;
    /**
     * Invalidate cache entries by tags
     *
     * @param {string[]} tags - Tags to invalidate
     * @returns {Promise<number>} Number of entries invalidated
     */
    invalidateByTags(tags: string[]): Promise<number>;
    /**
     * Cleanup expired entries
     *
     * @returns {Promise<number>} Number of entries cleaned up
     */
    cleanup(): Promise<number>;
    /**
     * Get cache statistics
     *
     * @returns {Promise<{ memory: CacheStats; external?: CacheStats }>} Cache stats
     */
    stats(): Promise<{
        memory: CacheStats;
        external?: CacheStats;
    }>;
    /**
     * Dispose cache manager
     *
     * Stops cleanup timer and clears caches.
     *
     * @returns {Promise<void>}
     */
    dispose(): Promise<void>;
    /**
     * Get TTL for data type
     *
     * @param {DataType} dataType - Data type
     * @param {number} [override] - Override TTL
     * @returns {number} TTL in milliseconds
     * @private
     */
    private getTTL;
    /**
     * Start automatic cleanup
     *
     * @private
     */
    private startAutoCleanup;
    /**
     * Stop automatic cleanup
     *
     * @private
     */
    private stopAutoCleanup;
    /**
     * Log message
     *
     * @param {LogLevel} level - Log level
     * @param {string} message - Log message
     * @private
     */
    private log;
}
//# sourceMappingURL=cache-manager.d.ts.map